<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="scsidisk" />
    <title>Linux下Mail命令收集 | scsidisk</title>
    <link href="/feed/" rel="alternate" title="scsidisk" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/highlight.css">
    <link href='/media/webfonts/ss-social.css' rel='stylesheet'>
    <link href='/media/webfonts/ss-standard.css' rel='stylesheet'>
    <link href="/media/css/screen.css" rel="stylesheet">

    <script type="text/javascript" src="/media/js/jquery-1.7.1.min.js"></script>
  </head>
  <body>
    <div id="container">
      <div id="main" role="main">
        <header>
        <div class="buttons">
          <a href="/" class="ss-icon" title="Go to homepage">home</a>
          <a href="/categories" class="ss-icon" title="Category" >list</a>
          <a href="/tags" class="ss-icon" title="Tag Cloud" >tags</a>
          <a href="/guestbook" class="ss-icon" title="Guest Book" >talk</a>
          <a href="/about" class="ss-icon" title="About" >user</a>
          <a href="/feed" class="ss-icon" title="Subscribe by RSS" >rss</a>
        </div>
        <h1>Linux下Mail命令收集</h1>
        </header>
        <hr>
        <article class="content">
        <section class="post">
<p>系统收到邮件都会保存在“/var/spool/mail/[linux用户名]”文件中。在linux中输入mail，就进入了收件箱，并显示二十封邮件列表。<br/>
此时命令提示符为"&amp;"<br/>
unread 标记为未读邮件<br/>
h|headers 显示当前的邮件列表<br/>
l|list 显示当前支持的命令列表<br/>
?|help 显示多个查看邮件列表的命令参数用法<br/>
d 删除当前邮件，指针并下移。 d 1-100 删除第1到100封邮件<br/>
f|from 只显示当前邮件的简易信息。 f num 显示某一个邮件的简易信息<br/>
f|from num 指针移动到某一封邮件<br/>
z 显示刚进行收件箱时的后面二十封邮件列表<br/>
more|p|page 阅读当前指针所在的邮件内容
阅读时，按空格键就是翻页，按回车键就是下移一行<br/>
t|type|more|p|page num 阅读某一封邮件<br/>
n|next|{什么都不填} 阅读当前指针所在的下一封邮件内容<br/>
阅读时，按空格键就是翻页，按回车键就是下移一行<br/>
v|visual 当前邮件进入纯文本编辑模式<br/>
n|next|{什么都不填} num 阅读某一封邮件<br/>
top 显示当前指针所在的邮件的邮件头<br/>
file|folder 显示系统邮件所在的文件，以及邮件总数等信息<br/>
x 退出mail命令平台，并不保存之前的操作，比如删除邮件<br/>
q
退出mail命令平台,保存之前的操作，比如删除已用d删除的邮件，已阅读邮件会转存到当前用户家目录下的mbox文件中。如果在mbox中删除文件才会彻底删除。<br/>
在linux文本命令平台输入 mail -f
mbox，就可以看到当前目录下的mbox中的邮件了。<br/>
cd 改变当前所在文件夹的位置<br/>
写信时，连按两次Ctrl+C键则中断工作，不送此信件。</p>

<h2>读信时，按一次Ctrl+C，退出阅读状态。  </h2>

<dl>
<dt>Linux邮件命令用法  </dt>
<dt>1. 将文件当做电子邮件的内容送出  </dt>
<dt>语法：mail -s “主题”用户名@地址&lt; 文件  </dt>
<dt>例如：  </dt>
<dt>mail -s “program” user &lt; file.c 将file.c  </dt>
<dt>当做mail的内容，送至user，主题为program。  </dt>
<dt>2. 传送电子邮件给本系统用户  </dt>
<dt>语法：mail 用户名  </dt>
<dt>3. 传送电子邮件至外地用户  </dt>
<dt>语法： mail 用户名@接受地址  </dt>
<dt>.../usr/lib/sendmail -bp  </dt>
<dt>......“Mail queue is empty” ......mail ....  </dt>
<dt>例如：  </dt>
<dt>mailtest@hotmail.com  </dt>
<dt>Subject : mail test  </dt>
<dd></dd>
<dt>键入信文内容  </dt>
<dd>:<br/>
按下Ctrl+D 键或. 键结束正文。<br/>
连按两次Ctrl+C键则中断工作，不送此信件。<br/>
Cc( Carbon copy) : 复制一份正文，给其他的收信人。</dd>
</dl>

<ol>
<li>检查所传送的电子邮件是否送出，或滞留在邮件服务器中<br/>
语法：/usr/lib/sendmail -bp<br/>
若屏幕显示为“Mail queue is empty” 的信息，表示mail 已送出。<br/>
若为其他错误信息，表示电子邮件因故尚未送出。</li>
</ol>


<hr />

<p>Linux下mail使用技巧<br/>
登录LINUX系统后，经常会看到"you have
mail",却苦于不知道如何查看，相信菜鸟们都遇到过，偶在网上用“linux
mail"找了很久，但大都是介绍mail服务器的，黄天总算没负有心人，在洪恩在找到一篇介绍基础的文章，不敢独享。</p>

<p>系统提供了用户之间通信的邮件系统，当用户打开终端注册登录时发现系统给出如下信息：<br/>
you have mail.<br/>
这时用户可通过键入mail命令读取信件：<br/>
\$ mail</p>

<p>mail程序将逐个显示用户的信件，并依照时间顺序，显示最新的信件。每显示一段信件，mail都询问用户是否要对该信件作些处理。若用户回答d，则表示
删除信件；若仅按回车键，表示对信件不作任何改动（信件仍旧保存，下次还可读这一信件）；若回答p，则要求重复显示信件；s
filename表示要把信件存入所命名的文件；若回答q，表示要从mail退出。</p>

<p>我们在本章的第一个例子中演示了如何写一封信，作为练习，你可送信件给自己，然后键入mail读取自己发的信件，看看会有什么效果。（发信给自己是一种设置备忘录的方法）。<br/>
\$mail frank 给自己写信<br/>
subject: test<br/>
This is a mail test<br/>
CRL-d<br/>
EOT<br/>
\$<br/>
\$mail 查看信件<br/>
“/var/spool/mail/frank:”1 message 1 new<br/>
>Nfrank@xteam.xteamlinux.comThu Mar 25 11:00 13/403 “test”<br/>
&amp;<br/>
Message 1:<br/>
From frank Thu Mar 25 11:00:25 1999/3/25<br/>
Received: (fromfrank@localhost)<br/>
by xteam.xteamlinux.com(8.8.4/8.8.4)<br/>
id LAA05170 for frank;Thu 25 Mar 1999 11:00:25 GMT<br/>
date: Thu,25 Mar 1999 11:00:25 GMT<br/>
From:RHS Linux User<br/>
Message-Id:\&lt;199903251142.LAA05170@xteam.xteamlinux.com><br/>
To:frank@xteam.xteamlinux.com<br/>
Subject:test<br/>
Status:R<br/>
This is a mail test<br/>
&amp;</p>

<p>mail命令还有很多其它用法，例如发送事先准备好的信件，或一次送信给若干人。还可以用其它方法送信件。<br/>
另附message的使用技巧：<br/>
当Linux系统处于多用户的情况下，有时在终端上会突然显示出下述信息：<br/>
Message from renee tty2…</p>

<p>并伴随出现一阵嘟嘟响声。这是用户renee想和你通话而产生的信号。若你用如下命令响应他:<br/>
\$ write renee</p>

<p>这就建立起了你和renee的通信线路，renee在他的终端上键入的内容同时显示在你的终端上，反之你键入的内容也显示在renee的终端上。为区分终
端上哪些是你输入的，哪些是renee输入的，我们使用如下通话协议：（o）表示一段话说完，并让对方发话，（oo）代表通话结束并退出程序。<br/>
renee’s terminal: frank terminal:<br/>
[renee@xteam renee]\$ write frank<br/>
\$ Message from renee tty2…<br/>
\$write renee<br/>
[renee@xteam renee]\$Message from you tty1…<br/>
did you forget lunch? (o)<br/>
did you forgeet lunch? (o)<br/>
ten minutes (o)<br/>
ten minutes (o)<br/>
ok (oo)<br/>
ok (oo)<br/>
ctl-d<br/>
EOF<br/>
Ctl-d<br/>
EOF<br/>
[renee@xteam renee]\$ \$</p>

<p>除CTL-d键外，也可以使用DELETE退出write命令。</p>

<p>如果你不愿意别人干扰你的工作，可以使用mesg命令拒绝接受通话。当你向一个拒绝接收通话的用户发写命令、或者向没有注册的用户要求通话时，write命令会显示不能通话的原因。</p>

<p>[From <a href="http://www.cnblogs.com/vinyfeng/archive/2010/01/04/1639059.html"><cite>Linux下Mail命令收集 - v -
博客园</cite></a>]</p>

<div class="posttagsblock">
</div>




</section>
<section class="meta">
<span class="author">
  <a href="http://scsidisk.github.io">scsidisk</a>
</span>
<span class="time">
  /
  <time datetime="2010-12-28">2010-12-28</time>
</span>
<br />
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>

<span class="categories">
  in categories
  
  <a href="/categories/#centos" title="centos">centos</a>&nbsp;
  
</span>


<span class="tags">
  tagged with
  
  <a href="/tags/#CentOS," title="CentOS,">CentOS,</a>&nbsp;
  
  <a href="/tags/#Linux," title="Linux,">Linux,</a>&nbsp;
  
  <a href="/tags/#Mail" title="Mail">Mail</a>&nbsp;
  
</span>

</section>
<section class="comment">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'scsidiskgithuio'; // required: replace example with your forum shortname
    var disqus_url = 'http://scsidisk.github.io/2010/12/mail_under_linux_commands_collection/';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        url = 'http://scsidisk.github.io/2010/12/mac_platform_command_line_using_base64_encoding_and_decoding_of_the_picture/';
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        url = 'http://scsidisk.github.io/2010/12/remove_in_mac_os_x_quotopenquot_in_the_list_of_programs_that_duplicate_or_unwanted/';
        
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>


        </article>
      </div>

    <footer>
        <p><small>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> | Copyright 2008 - 2014 by <a href="http://scsidisk.github.io">scsidisk</a> | <span class="label label-info">2014-06-10 02:53:00 CST</span></small></p>
    </footer>

    </div>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', '');
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
