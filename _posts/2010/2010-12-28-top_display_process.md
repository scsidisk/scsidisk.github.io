---
layout: post
title: "top：显示进程"
date: 2010-12-28 13:53
author: scsidisk
category: Linux
tags: [CentOS, Linux, Shell, 命令]
Slug: top_display_process
---

作用：top命令用来显示系统当前的进程状况。

用法：top [选项]

主要选项如下。

-b：使用批处理模式。

-c：显示程序并显示程序的完整相关信息，如名称、路径等。

-i：忽略闲置或已经冻结的程序。

-d\<delay\>：以秒为单位，设定监控程序执行状况的时间间隔。

-n\<iterations\>：设定监控信息的更新次数。

-p\<进程号\>：指定进程。

-s：安全模式。

-u\<somebody\>：指定用户名。

-v：显示版本信息。

-h：显示帮助信息。

说明：top命令和ps命令的基本作用是相同的，都是显示系统当前的进程状况。但是top是一个动态显示过程，即可以通过用户按键来不断刷新当前状态。下面结合图4-4来说明它给出的信息。

[![105129287](/images/2010/12/105129287-300x134.jpg)](/images/2010/12/105129287.jpg)

（点击查看大图）图4-4 top命令详解

在图4-4中分成几行显示，其含义分别如下。

第一行表示的项目依次为当前时间、系统启动时间、当前系统登录用户数目、平均负载。

第二行显示的是所有启动的、目前运行的、挂起（Sleeping）的和无用（Zombie）的进程。

第三行显示的是目前CPU的使用情况，包括系统占用的比例、用户使用比例、闲置（Idle）比例。

第四行显示物理内存的使用情况，包括总的可以使用的内存、已用内存、空闲内存、缓冲区占用的内存。

第五行显示交换分区的使用情况，包括总的、使用的、空闲的和用于高速缓存的交换分区。

第六行显示的项目最多，下面列出了详细解释。

PID（Process ID）：进程标志号，是非零正整数。

USER：进程所有者的用户名。

PR：进程的优先级别。

NI：进程的优先级别数值。

VIRT：进程占用的虚拟内存值。

RES：进程占用的物理内存值。

SHR：进程使用的共享内存值。

STAT：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。

%CPU：该进程占用的CPU使用率。

%MEM：该进程占用的物理内存和总内存的百分比。

TIME：该进程启动后占用的总的CPU时间。

COMMAND：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。

在top命令使用过程中，还可以使用一些交互的命令来完成其他参数的功能。这些命令是通过以下快捷键启动的。

\<空格\>：立刻刷新。

P：根据CPU使用大小进行排序。

T：根据时间、累计时间排序。

q：退出top命令。

m：切换显示内存信息。

t：切换显示进程和CPU状态信息。

c：切换显示命令名称和完整命令行。

M：根据使用内存大小进行排序。

W：将当前设置写入～/.toprc文件中。这是写top配置文件的推荐方法。

可以看到，top命令是一个功能十分强大的监控系统的工具，对于系统管理员而言尤其重要。但是，它的缺点是会消耗很多系统资源。

应用实例如下。

（1）显示程序及其完整相关信息

\#top -c

（2）以秒为单位，设定监控程序执行状况的时间间隔

例如，设定top命令的时间间隔为3秒，在命令行提示符下输入：

\#top -d 3

（3）设定监控信息的更新次数

例如，设定系统任务信息更新5次后结束top命令，在命令行提示符下输入：

\#top -n 5 ↙

<div class="posttagsblock">
</div>

